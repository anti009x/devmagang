
{% extends 'index2.html' %}
<body>


            {% block content %}
            <main>
            <div class="container-lg">
    <div class="table-responsive">
        <div class="table-wrapper">
            <div class="table-title">
                <div class="row">
                    <div class="col-sm-8"><h2>Jumlah data: {{ data|length }}</h2></div>
                    {% comment %} <div class ="bg-red-500">
                        <p style="color: black;">Jumlah data: {{ data|length }}</p>
                    </div> {% endcomment %}
                    <div class="col-sm-4">
                        

                        <!-- Modal -->
                        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addNewModal">
                          Tambah Data Baru
                        </button>
                        <div class="modal fade" id="addNewModal" tabindex="-1" role="dialog" aria-labelledby="addNewModalLabel" aria-hidden="true">
                          <div class="modal-dialog" role="document">
                            <div class="modal-content">
                              <div class="modal-header">
                                <h5 class="modal-title" id="addNewModalLabel">Tambah Data Baru</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                                  <span aria-hidden="true">&times;</span>
                                </button>
                              </div>
                              <div class="modal-body">
                                <form class="insertData" action="{% url 'insert' %}" method="POST">
                                    {% csrf_token %}
                                    {% if messages %}
                                    {% for message in messages %}
                                    <script>
                                        window.alert("{{message}}");
                                    </script>
                                    {% endfor %}
                                    {% endif %}
                                    <div class="form-group">
                                 <label for="bankacc_id">bankacc_id</label>
                                      <input type="text" class="form-control" id="bankacc_id" name="bankacc_id" placeholder="bankacc_id" required> 
                                      {% comment %} <select class="form-select mb-2" aria-label="bankacc_id" name="bankacc_id">
                                        <option selected disabled>bankacc_id</option>
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="4">4</option>
                                        <option value="19">19</option>
                                        <option value="20">20</option>
                                        <option value="20">21</option>

                                      </select> {% endcomment %}
                                    </div>
                                    <div class="form-group mb-2">
                                      {% comment %} <label for="company_id">company_id</label>
                                      <input type="text" class="form-control" id="company_id" name="company_id" placeholder="company_id" required>
                                      <div class="valid-feedback">
                                        Looks good!
                                      </div> {% endcomment %}
                                     <select class="form-select mb-2" aria-label="company_id" name="company_id">
                                        <option selected disabled>company_id</option>
                                        <option value="CBN">CBN</option>

                                      </select> 
                                    </div>
                                    <div class="form-group mb-2">
                                      <label for="bankacc_name">bankacc_name</label>
                                      <input type="text" class="form-control" id="bankacc_name" name="bankacc_name" placeholder="bankacc_name" required>
                                    </div>
                                    <div class="form-group mb-2">
                                      <label for="bankacc_number">bankacc_number</label>
                                      <input type="text" class="form-control" id="bankacc_number" name="bankacc_number" placeholder="bankacc_number" required>
                                    </div>
                                    <div class="form-group mb-2">
                                      {% comment %} <label for="coa_id">coa_id</label>
                                      <input type="text" class="form-control" id="coa_id" name="coa_id" placeholder="coa_id" required> {% endcomment %}
                                      <select class="form-select mb-2" aria-label="coa_id" name="coa_id">
                                        <option selected disabled>coa_id</option>
                                        <option value="358">358</option>
                                        <option value="356">356</option>
                                        <option value="2">2</option>
                                        <option value="359">359</option>
                                        <option value="6">6</option>
                                        <option value="357">357</option>
                       
                               

                                      </select> 
                                    </div>
                                    <div class="form-group mb-2">
                                      <label for="coa_code">coa_code</label>
                                      <input type="text" class="form-control" id="coa_code" name="coa_code" placeholder="coa_code" required>
                                    </div>
                                    <div class="form-group mb-2">
                                      <label for="coa_name">coa_name</label>
                                      <input type="text" class="form-control" id="coa_name" name="coa_name" placeholder="coa_name" required>
                                    </div>
                                    <div class="form-group mb-2">
                                      <label for="acc_label">acc_label</label>
                                      <input type="text" class="form-control" id="acc_label" name="acc_label" placeholder="acc_label" required>
                                    </div>
                                    <div class="modal-footer">
                                      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                      <button type="submit" class="btn btn-primary">Submit</button>
                                    </div>
                                  </form>
                              </div>
                            </div>
                          </div>
                        </div>
                    </div>
                </div>
            </div>
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <td>bankacc_id</td>
                        <td>company_id</td>
                        <td>bankacc_name</td>
                        <td>bankacc_number</td>
                        <td>coa_id</td>
                        <td>coa_code</td>
                        <td>coa_name</td>
                        <td>acc_label</td>
                        <td>Actions</td>
                    </tr>
                </thead>
                <tbody>
                    {% for i in data %}
                    <tr>
                        <td >{{i.0}}</td>
                        <td>{{i.1}}</td>
                        <td>{{i.2}}</td>
                        <td>{{i.3}}</td>
                        <td>{{i.4}}</td>
                        <td>{{i.5}}</td>
                        <td>{{i.6}}</td>
                        <td>{{i.7}}</td>
                        
                        <td>
                            <a class="add" title="Add" data-toggle="tooltip"><i class="material-icons">&#xE03B;</i></a>
                            <button type="button" class="btn btn-warning" data-bs-toggle="modal" data-bs-target="#editModal{{i.0}}">
                                <i class="material-icons">&#xE254;</i>
                            </button>
                            <!-- Edit Modal -->
                            <div class="modal fade" id="editModal{{i.0}}" tabindex="-1" aria-labelledby="editModalLabel{{i.0}}" aria-hidden="true">
                              <div class="modal-dialog">
                                <div class="modal-content">
                                  <div class="modal-header">
                                    <h5 class="modal-title" id="editModalLabel{{i.0}}">Edit Bank Account</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                  </div>
                                  <div class="modal-body">
                                    <form method="post" action="{% url 'update' i.0 %}">
                                      {% csrf_token %}
                                      <div class="form-group mb-2">
                                        <label for="bankacc_name">Bank Account Name</label>
                                        <input type="text" class="form-control" id="bankacc_name" name="bankacc_name" value="{{i.2}}" required>
                                      </div>
                                      <div class="form-group mb-2">
                                        <label for="bankacc_number">Bank Account Number</label>
                                        <input type="text" class="form-control" id="bankacc_number" name="bankacc_number" value="{{i.3}}" required>
                                      </div>
                                      <div class="form-group mb-2">
                                        <label for="coa_code">COA Code</label>
                                        <input type="text" class="form-control" id="coa_code" name="coa_code" value="{{i.5}}" required>
                                      </div>
                                      <div class="form-group mb-2">
                                        <label for="coa_name">COA Name</label>
                                        <input type="text" class="form-control" id="coa_name" name="coa_name" value="{{i.6}}" required>
                                      </div>
                                      <div class="form-group mb-2">
                                        <label for="acc_label">Account Label</label>
                                        <input type="text" class="form-control" id="acc_label" name="acc_label" value="{{i.7}}" required>
                                      </div>
                                      <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                        <button type="submit" class="btn btn-primary">Save changes</button>
                                      </div>
                                    </form>
                                  </div>
                                </div>
                              </div>
                            </div>

                            <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#deleteModal{{i.0}}">
                                <i class="material-icons">&#xE872;</i>
                            </button>

                            <!-- Modal -->
                            <div class="modal fade" id="deleteModal{{i.0}}" tabindex="-1" aria-labelledby="deleteModalLabel{{i.0}}" aria-hidden="true">
                              <div class="modal-dialog">
                                <div class="modal-content">
                                  <div class="modal-header">
                                    <h5 class="modal-title" id="deleteModalLabel{{i.0}}">Delete Confirmation</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                  </div>
                                  <div class="modal-body">
                                    Are you sure you want to delete this item?
                                  </div>
                                  <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">No</button>
                                    <a type="button" class="btn btn-danger" href="{% url 'delete' i.0 %}">Yes</a>
                                  </div>
                                </div>
                              </div>
                            </div>
                        </td>
                    </tr>    
                    {% endfor %}  
                </tbody>
            </table>
        </div>
    </div>
</div>   
            </main>

            <footer>

            </footer>
    {% endblock %}